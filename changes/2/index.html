<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta http-equiv="Content-Language" content="en-us" />
  <meta http-equiv="imagetoolbar" content="false" />
  <meta name="MSSmartTagsPreventParsing" content="true" />
  <title>GitHub API Changes | GitHub Developer Guide</title>
  
  <link rel="alternate" type="application/atom+xml" title="API Changes" href="/changes.atom" />
  
  <link href="/eeme-apidoc/assets/stylesheets/application.css" rel="stylesheet" type="text/css" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script src="/eeme-apidoc/assets/javascripts/application.js" type="text/javascript"></script>
  
</head>


<body class="blog">
  

<div id="header-wrapper">
  <div id="header">
    <div>
      <a class="logo" href="/">GitHub:Developer</a>
      <ul class="nav">
        
        <li><a href="/eeme-apidoc/v3/" class="nav-api">API</a></li>
        <li><a href="/eeme-apidoc/program/" class="nav-developers">Developers</a></li>
        <li><a href="/eeme-apidoc/changes/" class="nav-blog">Blog</a></li>
        <li><a href="https://github.com/contact">Support</a></li>
        <li id="search-container">
          <input type="text" id="searchfield" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" /><label class="search-placeholder">Search</label>
          <div class="cancel-search"></div>
          <ul id="search-results">

          </ul>
        </li>
      </ul>
    </div>
  </div><!-- #header -->
</div><!-- #header-wrapper -->


  <div id="wrapper">
    <div class="content">
      <div class="change" id="/changes/2016-04-04-git-signing-api-preview/">
  <h2 class="title">
<a id="--preview-support-for-git-signing" class="anchor" href="#--preview-support-for-git-signing" aria-hidden="true"><span class="octicon octicon-link"></span></a>
  <a href="/changes/2016-04-04-git-signing-api-preview/">Preview support for Git signing</a>
</h2>

<div class="meta">
  <ul>
  <li class="published">
    <span class="octicon octicon-calendar"></span>
    April 4, 2016
    
  </li>
  <li class="who_when">
    <img height="16" width="16" src="https://github.com/mastahyeti.png" alt="Avatar for mastahyeti" data-proofer-ignore>
      <a href="https://github.com/mastahyeti" data-proofer-ignore>mastahyeti</a>
  </li>
</ul>
</div>

<p></p>
<p>GitHub <a href="https://github.com/blog/2144-gpg-signature-verification">recently started verifying GPG signed commits and tags</a>. We are adding API support for signature verification and user GPG key management as well. You can enable these changes during the preview period by providing a custom <a href="/v3/media">media type</a> in the <code>Accept</code> header:</p>

<pre><code>application/vnd.github.cryptographer-preview
</code></pre>

<p>For example:</p>

<pre class="command-line">
curl "https://api.github.com/user/gpg_keys" \
  -H 'Authorization: token TOKEN' \
  -H "Accept: application/vnd.github.cryptographer-preview" \
</pre>

<p>You can learn more about the new signature verification response objects in the updated <a href="/v3/repos/commits">repository commit</a>, <a href="/v3/git/commits">Git commit</a>, and <a href="/v3/git/tags">Git tag</a> documentation. There is also new <a href="/v3/users/gpg_keys">GPG key management</a> documentation.</p>

<p>During the preview period, we may change aspects of these APIs based on developer feedback. We will announce the changes here on the developer blog, but we will not provide advance notice.</p>

<p>If you have any questions or feedback, please <a href="https://github.com/contact?form%5Bsubject%5D=Squash+API+Preview">let us know</a>.</p>

<p></p>
</div>

<div class="change" id="/changes/2016-04-01-squash-api-preview/">
  <h2 class="title">
<a id="--preview-squash-support-for-the-pull-request-merge-api" class="anchor" href="#--preview-squash-support-for-the-pull-request-merge-api" aria-hidden="true"><span class="octicon octicon-link"></span></a>
  <a href="/changes/2016-04-01-squash-api-preview/">Preview Squash Support for the Pull Request Merge API</a>
</h2>

<div class="meta">
  <ul>
  <li class="published">
    <span class="octicon octicon-calendar"></span>
    April 1, 2016
    
  </li>
  <li class="who_when">
    <img height="16" width="16" src="https://github.com/scottjg.png" alt="Avatar for scottjg" data-proofer-ignore>
      <a href="https://github.com/scottjg" data-proofer-ignore>scottjg</a>
  </li>
</ul>
</div>

<p></p>
<p>With the <a href="https://github.com/blog/2141-squash-your-commits">recent addition</a> of squashing Pull Requests via the merge button, we're adding support to squash Pull Requests in the API as well. You can squash a pull request in the <a href="/v3/pulls/#merge-a-pull-request-merge-button">Pull Request Merge API</a> during the preview period by providing a custom <a href="/v3/media">media type</a> in the <code>Accept</code> header:</p>

<pre><code>application/vnd.github.polaris-preview
</code></pre>

<p>For example:</p>

<pre class="command-line">
curl "https://api.github.com/repos/github/hubot/pulls/123/merge" \
  -XPUT \
  -H 'Authorization: token TOKEN' \
  -H "Accept: application/vnd.github.polaris-preview" \
  -d '{
    "squash": true,
    "commit_title": "Never tell me the odds"
  }'
</pre>

<p>During the preview period, we may change aspects of these API methods based on developer feedback. We will announce the changes here on the developer blog, but we will not provide advance notice.</p>

<p>If you have any questions or feedback, please <a href="https://github.com/contact?form%5Bsubject%5D=Squash+API+Preview">let us know</a>.</p>

<p></p>
</div>

<div class="change" id="/changes/2016-03-17-the-451-status-code-is-now-supported/">
  <h2 class="title">
<a id="--the-451-status-code-is-now-supported" class="anchor" href="#--the-451-status-code-is-now-supported" aria-hidden="true"><span class="octicon octicon-link"></span></a>
  <a href="/changes/2016-03-17-the-451-status-code-is-now-supported/">The 451 status code is now supported</a>
</h2>

<div class="meta">
  <ul>
  <li class="published">
    <span class="octicon octicon-calendar"></span>
    March 17, 2016
    
  </li>
  <li class="who_when">
    <img height="16" width="16" src="https://github.com/gjtorikian.png" alt="Avatar for gjtorikian" data-proofer-ignore>
      <a href="https://github.com/gjtorikian" data-proofer-ignore>gjtorikian</a>
  </li>
</ul>
</div>

<p></p>
<p>In December 2015, <a href="https://datatracker.ietf.org/doc/rfc7725/">the IETF ratified status code <code>451</code></a>. A <code>451</code> response indicates that a resource is unavailable due to an external legal request.</p>

<p>The GitHub API will now respond with a <code>451</code> status code for resources it has been asked to take down due to a DMCA notice. For example:</p>

<pre class="command-line">
<span class="command">curl https://api.github.com/repos/github/a-repository-that-s-been-taken-down</span>
<span class="output">HTTP/1.1 451</span>
<span class="output">Server: GitHub.com</span>

<span class="output">{</span>
<span class="output"> "message": "Repository access blocked",</span>
<span class="output"> "block": {</span>
<span class="output">   "reason": "dmca",</span>
<span class="output">   "created_at": "2016-03-17T15:39:46-07:00"</span>
<span class="output"> }</span>
<span class="output">}</span>
</pre>

<p>This <code>451</code> code will be returned for repositories and gists. Previously, the API responded with a <code>403 - Forbidden</code>. Aside from the semantic difference, we feel that it's important for users to know precisely why their data cannot be served.</p>

<p>If you're receiving a <code>451</code> due to a DMCA takedown, please read our article on <a href="https://help.github.com/articles/guide-to-submitting-a-dmca-counter-notice/">submitting a DMCA counter notice</a> and know your rights. For more information, see <a href="https://help.github.com/articles/dmca-takedown-policy/">GitHub's DMCA Takedown Policy</a>.</p>

<p></p>
</div>

<div class="change" id="/changes/2016-03-15-new-webhook-actions/">
  <h2 class="title">
<a id="--new-webhook-event-actions-are-coming" class="anchor" href="#--new-webhook-event-actions-are-coming" aria-hidden="true"><span class="octicon octicon-link"></span></a>
  <a href="/changes/2016-03-15-new-webhook-actions/">New webhook event actions are coming</a>
</h2>

<div class="meta">
  <ul>
  <li class="published">
    <span class="octicon octicon-calendar"></span>
    March 15, 2016
    
  </li>
  <li class="who_when">
    <img height="16" width="16" src="https://github.com/davidcelis.png" alt="Avatar for davidcelis" data-proofer-ignore>
      <a href="https://github.com/davidcelis" data-proofer-ignore>davidcelis</a>
  </li>
</ul>
</div>

<p></p>
<p>We will soon begin introducing new <code>action</code> values for several existing webhook events. If you currently subscribe to webhooks but do not check the payload's <code>action</code> value, you may end up incorrectly processing events after this change is released. To ensure that your webhook processing is not affected by these new <code>action</code> values, <strong>you should audit your webhook processing logic by April 15th, 2016</strong>.</p>

<p>We are providing an advance notice to warn of these changes. In the future, we may continue adding new actions without providing further warning.</p>

<h3>
<a id="a-brief-overview-of-github-webhook-actions" class="anchor" href="#a-brief-overview-of-github-webhook-actions" aria-hidden="true"><span class="octicon octicon-link"></span></a>
<a id="a-brief-overview-of-github-webhook-actions" class="anchor" href="#a-brief-overview-of-github-webhook-actions" aria-hidden="true"><span class="octicon octicon-link"></span></a>A brief overview of GitHub webhook actions</h3>

<p>Webhook events can have multiple actions. For example, the <a href="https://developer.github.com/v3/activity/events/types/#issuesevent"><code>IssuesEvent</code></a> has several possible actions. These include <code>opened</code> when the issue is created, <code>closed</code> when the issue is closed, and <code>assigned</code> when the issue is assigned to someone. Historically, we haven't added new actions to webhook events that have only one action. However, as GitHub's feature set grows, we may occasionally add new actions to existing event types. We encourage you to take some time and ensure that your application explicitly checks the action before doing any processing.</p>

<h3>
<a id="what-to-avoid-when-working-with-event-actions" class="anchor" href="#what-to-avoid-when-working-with-event-actions" aria-hidden="true"><span class="octicon octicon-link"></span></a>
<a id="what-to-avoid-when-working-with-event-actions" class="anchor" href="#what-to-avoid-when-working-with-event-actions" aria-hidden="true"><span class="octicon octicon-link"></span></a>What to avoid when working with event actions</h3>

<p>Here's an example of functionality that <strong>will not work</strong> when attempting to process an <code>IssuesEvent</code>. In this example, the <code>process_closed</code> method will be called for any event action which is not <code>opened</code> or <code>assigned</code>. This means that the <code>process_closed</code> method will be called for events with the <code>closed</code> action, but also other events with actions other than <code>opened</code> or <code>assigned</code> that are delivered to the webhook.</p>

<pre class="highlight highlight-ruby"><code><span class="c1"># The following is not future-proof!</span>
<span class="k">case</span> <span class="n">action</span>
<span class="k">when</span> <span class="s2">"opened"</span>
  <span class="n">process_opened</span>
<span class="k">when</span> <span class="s2">"assigned"</span>
  <span class="n">process_assigned</span>
<span class="k">else</span>
  <span class="n">process_closed</span>
<span class="k">end</span>
</code></pre>


<h3>
<a id="how-to-work-with-new-event-actions" class="anchor" href="#how-to-work-with-new-event-actions" aria-hidden="true"><span class="octicon octicon-link"></span></a>
<a id="how-to-work-with-new-event-actions" class="anchor" href="#how-to-work-with-new-event-actions" aria-hidden="true"><span class="octicon octicon-link"></span></a>How to work with new event actions</h3>

<p>We suggest that you explicitly check event actions and act accordingly. In this example, the <code>closed</code> action is checked first before calling the <code>process_closed</code> method. Additionally, for unknown actions, we log that something new was encountered:</p>

<pre class="highlight highlight-ruby"><code><span class="c1"># The following is recommended</span>
<span class="k">case</span> <span class="n">action</span>
<span class="k">when</span> <span class="s2">"opened"</span>
  <span class="n">process_opened</span>
<span class="k">when</span> <span class="s2">"assigned"</span>
  <span class="n">process_assigned</span>
<span class="k">when</span> <span class="s2">"closed"</span>
  <span class="n">process_closed</span>
<span class="k">else</span>
  <span class="nb">puts</span> <span class="s2">"Ooohh, something new from GitHub!"</span>
<span class="k">end</span>
</code></pre>


<p>We may also add new webhook event types from time to time. If your webhook is configured to "Send me <strong>everything</strong>", your code should also explicitly check for the event type in a similar way as we have done with checking for the action type above. Take a look at our <a href="https://developer.github.com/guides/best-practices-for-integrators/">integrators best practices guide</a> for more tips.</p>

<p>If you have any questions or feedback, please <a href="https://github.com/contact?form%5Bsubject%5D=New+Webhook+Actions">get in touch</a>.</p>
</div>

<div class="change" id="/changes/2016-02-24-commit-reference-sha-api/">
  <h2 class="title">
<a id="--commit-reference-sha-1-preview-period" class="anchor" href="#--commit-reference-sha-1-preview-period" aria-hidden="true"><span class="octicon octicon-link"></span></a>
  <a href="/changes/2016-02-24-commit-reference-sha-api/">Commit Reference SHA-1 Preview Period</a>
</h2>

<div class="meta">
  <ul>
  <li class="published">
    <span class="octicon octicon-calendar"></span>
    February 24, 2016
    
  </li>
  <li class="who_when">
    <img height="16" width="16" src="https://github.com/mikemcquaid.png" alt="Avatar for mikemcquaid" data-proofer-ignore>
      <a href="https://github.com/mikemcquaid" data-proofer-ignore>mikemcquaid</a>
  </li>
</ul>
</div>

  <p>We're introducing a new API media type to allow users to get the SHA-1 of a commit reference. This can be useful in working out if you have the latest version of a remote branch based on your local branch's SHA-1. Developers with read access to a repository can start experimenting with this new media type today during the preview period.</p>

<p>To get the commit reference's SHA-1, make a <code>GET</code> request to the repository's reference:</p>

<pre class="command-line">
<span class="command">curl "https://api.github.com/repos/Homebrew/homebrew/commits/master" \</span>
  -H "Accept: application/vnd.github.chitauri-preview+sha"
</pre>

<p>To check if a remote branch's SHA-1 is the same as your local branch's SHA-1, make a <code>GET</code> request to the repository's branch and provide the current SHA-1 for the local branch as the ETag:</p>

<pre class="command-line">
<span class="command">curl "https://api.github.com/repos/Homebrew/homebrew/commits/master" \</span>
  -H "Accept: application/vnd.github.chitauri-preview+sha" \
  -H "If-None-Match: \"814412cfbd631109df337e16c807207e78c0d24e\""
</pre>

<p>If the remote and your local branch point to the same SHA-1 then this call will return a <code>304 Unmodified</code> status code (and not use your rate limit).</p>

<p>You can see an example of this API in a pull request to Homebrew/homebrew's updater: <a href="https://github.com/Homebrew/homebrew/pull/49219">https://github.com/Homebrew/homebrew/pull/49219</a>.</p>

<h4>
<a id="how-can-i-try-it" class="anchor" href="#how-can-i-try-it" aria-hidden="true"><span class="octicon octicon-link"></span></a>
<a id="how-can-i-try-it" class="anchor" href="#how-can-i-try-it" aria-hidden="true"><span class="octicon octicon-link"></span></a>How can I try it?</h4>

<p>To use this new API media type during the preview period, you’ll need to provide the following custom <a href="/v3/media/">media type</a> in the <code>Accept</code> header:</p>

<pre><code>application/vnd.github.chitauri-preview+sha
</code></pre>

<p>During the preview period, we may change aspects of this API media type based on developer feedback. If we do, we will announce the changes here on the developer blog, but we will not provide any advance notice.</p>

<p>Take a look at <a href="/v3/repos/commits/#get-the-sha-1-of-a-commit-reference">the documentation</a> and, if you have any questions, please <a href="https://github.com/contact?form%5Bsubject%5D=Commit+Reference+SHA-1+Preview">get in touch</a>.</p>
</div>

<div class="change" id="/changes/2016-02-19-source-import-preview-api/">
  <h2 class="title">
<a id="--preview-the-source-import-api" class="anchor" href="#--preview-the-source-import-api" aria-hidden="true"><span class="octicon octicon-link"></span></a>
  <a href="/changes/2016-02-19-source-import-preview-api/">Preview the Source Import API</a>
</h2>

<div class="meta">
  <ul>
  <li class="published">
    <span class="octicon octicon-calendar"></span>
    February 19, 2016
    
  </li>
  <li class="who_when">
    <img height="16" width="16" src="https://github.com/spraints.png" alt="Avatar for spraints" data-proofer-ignore>
      <a href="https://github.com/spraints" data-proofer-ignore>spraints</a>
  </li>
</ul>
</div>

  <p>We've added an API for source imports, which will let you start an import from a Git, Subversion, Mercurial, or Team Foundation Server source repository. This is the same functionality as <a href="https://help.github.com/articles/importing-from-other-version-control-systems-to-github/">the GitHub Importer</a>.</p>

<p>To access <a href="/v3/migration/source_imports/">the Source Import API</a> during the preview period, you must provide a custom <a href="/v3/media">media type</a> in the <code>Accept</code> header:</p>

<pre><code>application/vnd.github.barred-rock-preview
</code></pre>

<p>During the preview period, we may change aspects of these API methods based on developer feedback. If we do, we will announce the changes here on the developer blog, but we will not provide any advance notice.</p>

<p>If you have any questions or feedback, please <a href="https://github.com/contact?form%5Bsubject%5D=Source+Import+API">let us know</a>!</p>
</div>

<div class="change" id="/changes/2016-02-11-issue-locking-api/">
  <h2 class="title">
<a id="--issue-locking-and-unlocking-api-preview-period" class="anchor" href="#--issue-locking-and-unlocking-api-preview-period" aria-hidden="true"><span class="octicon octicon-link"></span></a>
  <a href="/changes/2016-02-11-issue-locking-api/">Issue Locking and Unlocking API Preview Period</a>
</h2>

<div class="meta">
  <ul>
  <li class="published">
    <span class="octicon octicon-calendar"></span>
    February 11, 2016
    
  </li>
  <li class="who_when">
    <img height="16" width="16" src="https://github.com/davidcelis.png" alt="Avatar for davidcelis" data-proofer-ignore>
      <a href="https://github.com/davidcelis" data-proofer-ignore>davidcelis</a>
  </li>
</ul>
</div>

  <p>We're introducing new API methods to allow repository collaborators to <a href="https://help.github.com/articles/locking-conversations/">lock and unlock conversations</a>. Developers with <a href="https://help.github.com/articles/what-are-the-different-access-permissions/">collaborator permissions</a> on a repository can start experimenting with these new endpoints today during the preview period.</p>

<p>To lock a conversation, make a <code>PUT</code> request to the conversation's issue:</p>

<pre class="command-line">
<span class="command">curl "https://api.github.com/repos/github/hubot/issues/1/lock" \</span>
  -X PUT \
  -H "Authorization: token $TOKEN" \
  -H "Content-Length: 0" \
  -H "Accept: application/vnd.github.the-key-preview"
</pre>

<p>To unlock a conversation, make a similarly constructed <code>DELETE</code> request:</p>

<pre class="command-line">
<span class="command">curl "https://api.github.com/repos/github/hubot/issues/1/lock" \</span>
  -X DELETE \
  -H "Authorization: token $TOKEN" \
  -H "Accept: application/vnd.github.the-key-preview"
</pre>

<h4>
<a id="how-can-i-try-it-1" class="anchor" href="#how-can-i-try-it-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>
<a id="how-can-i-try-it" class="anchor" href="#how-can-i-try-it" aria-hidden="true"><span class="octicon octicon-link"></span></a>How can I try it?</h4>

<p>Starting today, developers can preview these new API methods. To use them during the preview period, you’ll need to provide the following custom <a href="/v3/media/">media type</a> in the <code>Accept</code> header:</p>

<pre><code>application/vnd.github.the-key-preview+json
</code></pre>

<p>During the preview period, we may change aspects of these API methods based on developer feedback. If we do, we will announce the changes here on the developer blog, but we will not provide any advance notice.</p>

<p>Take a look at <a href="/v3/issues/#lock-an-issue">the documentation</a> and, if you have any questions, please <a href="https://github.com/contact?form%5Bsubject%5D=Issue+Locking+and+Unlocking+API+Preview">get in touch</a>.</p>
</div>

<div class="change" id="/changes/2016-01-05-api-enhancements-for-working-with-organization-permissions-are-now-official/">
  <h2 class="title">
<a id="--api-enhancements-for-working-with-organization-permissions-are-now-official" class="anchor" href="#--api-enhancements-for-working-with-organization-permissions-are-now-official" aria-hidden="true"><span class="octicon octicon-link"></span></a>
  <a href="/changes/2016-01-05-api-enhancements-for-working-with-organization-permissions-are-now-official/">API enhancements for working with organization permissions are now official</a>
</h2>

<div class="meta">
  <ul>
  <li class="published">
    <span class="octicon octicon-calendar"></span>
    January 5, 2016
    
  </li>
  <li class="who_when">
    <img height="16" width="16" src="https://github.com/jakeboxer.png" alt="Avatar for jakeboxer" data-proofer-ignore>
      <a href="https://github.com/jakeboxer" data-proofer-ignore>jakeboxer</a>
  </li>
</ul>
</div>

  <p>To allow API developers to take advantage of the <a href="https://github.com/blog/2064-new-organization-permissions-now-available">improved organization permissions</a> that launched in September 2015, we're making the <a href="/changes/2015-06-24-api-enhancements-for-working-with-organization-permissions/">API enhancements</a> for working with organization permissions a part of the official GitHub API.</p>

<p>During the preview period, you needed to <a href="/changes/2015-06-24-api-enhancements-for-working-with-organization-permissions/#preview-period">provide a custom media type in the <code>Accept</code> header</a> to opt-in to the changes. Now that the preview period has ended, you no longer need to specify this custom <a href="/v3/media/">media type</a>.</p>

<p>If you have any questions or feedback, please <a href="https://github.com/contact?form%5Bsubject%5D=Organization+Permissions+API">get in touch with us</a>!</p>
</div>

<div class="change" id="/changes/2015-11-11-protected-branches-api/">
  <h2 class="title">
<a id="--protected-branches-api-preview-period" class="anchor" href="#--protected-branches-api-preview-period" aria-hidden="true"><span class="octicon octicon-link"></span></a>
  <a href="/changes/2015-11-11-protected-branches-api/">Protected Branches API Preview Period</a>
</h2>

<div class="meta">
  <ul>
  <li class="published">
    <span class="octicon octicon-calendar"></span>
    November 11, 2015
    
  </li>
  <li class="who_when">
    <img height="16" width="16" src="https://github.com/nakajima.png" alt="Avatar for nakajima" data-proofer-ignore>
      <a href="https://github.com/nakajima" data-proofer-ignore>nakajima</a>
  </li>
</ul>
</div>

  <p>We're starting a preview period for the <a href="https://github.com/blog/2051-protected-branches-and-required-status-checks">protected branches</a> API. Protecting a branch prevents force-pushes to it as well as deleting it. You can also specify required status checks that are required to merge code into the branch.</p>

<p>To protect a branch, make a <code>PATCH</code> request to the URL of the branch:</p>

<pre class="command-line">
curl "https://api.github.com/repos/github/hubot/branches/master" \
  -XPATCH \
  -H 'Authorization: token TOKEN' \
  -H "Accept: application/vnd.github.loki-preview" \
  -d '{
    "protection": {
      "enabled": true,
      "required_status_checks": {
        "enforcement_level": "everyone",
        "contexts": [
          "required-status"
        ]
      }
    }
  }'
</pre>

<h4>
<a id="how-can-i-try-it-2" class="anchor" href="#how-can-i-try-it-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>
<a id="how-can-i-try-it" class="anchor" href="#how-can-i-try-it" aria-hidden="true"><span class="octicon octicon-link"></span></a>How can I try it?</h4>

<p>To access this functionality during the preview period, you’ll need to provide the following custom media type in the Accept header:</p>

<pre><code>application/vnd.github.loki-preview+json
</code></pre>

<p>Take a look at <a href="/v3/repos/#enabling-and-disabling-branch-protection">the docs here</a>.</p>

<p>If you have any questions, please <a href="https://github.com/contact?form%5Bsubject%5D=Protected+Branches+API+Preview">get in touch</a>.</p>
</div>

<div class="change" id="/changes/2015-09-03-ensure-your-app-is-ready-for-protected-branches/">
  <h2 class="title">
<a id="--ensure-your-app-is-ready-for-protected-branches" class="anchor" href="#--ensure-your-app-is-ready-for-protected-branches" aria-hidden="true"><span class="octicon octicon-link"></span></a>
  <a href="/changes/2015-09-03-ensure-your-app-is-ready-for-protected-branches/">Ensure your app is ready for Protected Branches</a>
</h2>

<div class="meta">
  <ul>
  <li class="published">
    <span class="octicon octicon-calendar"></span>
    September 3, 2015
    
  </li>
  <li class="who_when">
    <img height="16" width="16" src="https://github.com/aroben.png" alt="Avatar for aroben" data-proofer-ignore>
      <a href="https://github.com/aroben" data-proofer-ignore>aroben</a>
  </li>
</ul>
</div>

  <p>We’ve begun to <a href="https://github.com/blog/2051-protected-branches-and-required-status-checks">roll out Protected Branches</a> across GitHub. When you
protect a branch in one of your repositories, you will be prevented from
force pushing to that branch or deleting it. You can also configure required
status checks for your protected branch. When configured, changing a branch to
point at a new commit will fail unless that commit (or another commit with
the same <a href="http://git-scm.com/book/en/v2/Git-Internals-Git-Objects#Tree-Objects">Git tree</a>) has a <a href="/v3/repos/statuses/">Status</a> in the <code>success</code> state for
each required status check.</p>

<p>These restrictions apply to branch manipulations performed via the GitHub API
as well. So when you protect a branch, you will no longer be able to <a href="/v3/git/refs/#delete-a-reference">delete
the branch</a> via the API or <a href="/v3/git/refs/#update-a-reference">update it</a> to point at a
non-ancestor commit, even with <code>"force": true</code>. And if your branch has required
status checks, you won’t be able to <a href="/v3/git/refs/#update-a-reference">update it</a> or <a href="/v3/pulls/#merge-a-pull-request-merge-button">merge pull
requests</a> into that branch until <code>success</code> Statuses have been posted to
the target commit for all required status checks.</p>

<p>These restrictions are all represented by 422 errors:</p>

<pre class="command-line">
<span class="command">curl -i -H 'Authorization: token TOKEN' \</span>
<span class="command">   -X DELETE https://api.github.com/repos/octocat/hubot/git/refs/heads/master</span>

<span class="output">HTTP/1.1 422 Unprocessable Entity</span>
<span class="output">{</span>
<span class="output"> "message": "Cannot delete a protected branch",</span>
<span class="output"> "documentation_url": "https://help.github.com/articles/about-protected-branches"</span>
<span class="output">}</span>
</pre>

<p>Protected branches and required status checks are a great way to ensure your
project’s conventions are followed. For example, you could write a Status
integration that only posts a <code>success</code> Status when the pull request’s author
has signed your project’s Contributor License Agreement. Or you could write one
that only posts a <code>success</code> Status when three or more members of your
<code>@initech/senior-engineers</code> team have left a comment saying they’ve reviewed
the changes. If you configure these integrations as required status checks, you
can be sure that these conditions have been satisfied before a pull request is
merged. See our <a href="/guides/building-a-ci-server/">Status API guide</a> to learn how to create integrations
like these.</p>

<p>If you have any questions, please <a href="https://github.com/contact?form%5Bsubject%5D=Protected+Branches+in+API+responses">let us know</a>.</p>

<p></p>
</div>

<div class="paginate-container">
  

<div class="pagination">
  
  <a href="/changes/1" class="previous_page">Previous</a>
  

  
    
    
    
    

    
      <a href="/changes/1" class="">1</a>
    

    
  
    
    
    
    

    
      <a href="/changes/2" class="current">2</a>
    

    
  
    
    
    
    

    
      <a href="/changes/3" class="">3</a>
    

    
  
    
    
    
    

    
      <a href="/changes/4" class="">4</a>
    

    
  
    
    
    
    
      
      
      
    

    
      <span class="disabled">…</span>
    

    
  
    
    
    
    

    
      <a href="/changes/13" class="">13</a>
    

    
  
    
    
    
    

    
      <a href="/changes/14" class="">14</a>
    

    
  

  
    <a href="/changes/3" class="next_page">Next</a>
  
</div>

<p></p>
</div>
    </div>

    <div class="sidebar-shell">
        <h2>Recent Posts</h2>
<ul class="headlines sidebar-module">

  <li><a href="/changes/2016-06-14-repository-invitations/">API changes for Repository Invitations<br /><span class="date">June 14, 2016</span></a></li>

  <li><a href="/changes/2016-06-07-reactions-api-update/">Reactions API Preview now includes user information<br /><span class="date">June 7, 2016</span></a></li>

  <li><a href="/changes/2016-5-27-multiple-assignees/">API changes for Multiple Issue Assignees<br /><span class="date">May 27, 2016</span></a></li>

  <li><a href="/changes/2016-05-23-timeline-preview-api/">Preview the Timeline API<br /><span class="date">May 23, 2016</span></a></li>

  <li><a href="/changes/2016-05-12-reactions-api-preview/">Preview support for Reactions API<br /><span class="date">May 12, 2016</span></a></li>

  <li><a href="/changes/2016-05-03-source-import-api-enhancements-for-working-with-git-lfs/">Source Import API enhancements for working with Git LFS<br /><span class="date">May 3, 2016</span></a></li>

  <li><a href="/changes/2016-04-21-oauth-authorizations-grants-api-preview/">Preview support for OAuth authorizations grants API<br /><span class="date">April 21, 2016</span></a></li>

  <li><a href="/changes/2016-04-18-new-webhook-actions-are-live/">New webhook event actions are now live<br /><span class="date">April 18, 2016</span></a></li>

</ul>


        <div class="sidebar-module notice"><a class="rss-subscribe" href="/changes.atom">Subscribe to the RSS feed</a></div>
    </div>
  </div>

    <div id="footer" >
    <div class="lower_footer">
      <ul class="footer-cell">
        <li><a href="https://github.com/github/developer.github.com#licenses">&copy; 2016 GitHub, Inc.</a></li>
        <li><a href="https://help.github.com/terms-of-service/">Terms</a></li>
        <li><a href="https://help.github.com/privacy-policy/">Privacy</a></li>
        <li><a href="https://help.github.com/security/">Security</a></li>
        <li><a href="https://github.com/contact">Contact</a></li>
      </ul>

      <span class="footer-cell">
        <a href="https://github.com" class="mega-octicon octicon-mark-github"></a>
      </span>

      <ul class="footer-cell">
        <li><a href="https://status.github.com/">Status</a></li>
        <li><a href="http://training.github.com/">Training</a></li>
        <li><a href="http://shop.github.com/">Shop</a></li>
        <li><a href="https://github.com/blog">Blog</a></li>
        <li><a href="https://github.com/about">About</a></li>
      </ul>
    </div>

  </div><!-- /#footer -->
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-3769691-37', 'github.com');
    ga('send', 'pageview');
  </script>

</body>
</html>
